<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>CGPA Calculator - BIT SINDRI</title>
  <style>
    body {
      margin: 0;
      font-family: Comic Sans MS;
      background-image: url('1000063709.avif');
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      backdrop-filter: blur(15px);
      color: white;
    }

    .overlay {
      background-color: rgba(0, 0, 0, 0.6);
      min-height: 100vh;
      padding: 30px 20px;
    }

    .logo {
      position: absolute;
      top: 15px;
      left: 15px;
    }

    .logo img {
      height: 120px;
    }

    h1, h2 {
      text-align: center;
    }

    select, input, button {
      padding: 10px;
      margin: 8px;
      font-size: 1em;
    }

    table {
      width: 50%;
      margin: 0 auto;
      border-collapse: collapse;
    }

    th, td {
      border: 1px solid #ddd;
      padding: 10px;
      text-align: center;
    }

    input[type=number] {
      width: 50px;
    }

    .result {
      text-align: center;
      margin-top: 20px;
      font-size: 1.5em;
    }

    .footer {
      text-align: center;
      font-size: 1.3em;
      color: #ccc;
      margin-top: 25px;
    }

    @media (max-width: 600px) {
      table {
        width: 95%;
      }

      .footer {
        font-size: 0.9em;
        padding: 0 5px;
      }
    }
  </style>
</head>
<body oncontextmenu="return false">
  <div class="overlay">
    <div class="logo">
      <img src="seventyfive.png" alt="BIT Sindri Logo">
    </div>

    <h1>BIT SINDRI GPA PORTAL</h1>

    <div style="text-align:center">
      <label for="regNo">Registration No:</label>
      <input type="text" id="regNo" onchange="loadUserData()"><br>

      <label for="yearSelect">Select Year:</label>
      <select id="yearSelect" onchange="selectYear(parseInt(this.value))">
        <option value="2022">2022</option>
        <option value="2023">2023</option>
        <option value="2024">2024 Onwards</option>
      </select><br>

      <label for="branch">Branch:</label>
      <select id="branch" onchange="loadCredits()"></select>
    </div>

    <table>
      <thead>
        <tr>
          <th>Semester</th>
          <th>SGPA</th>
          <th>Credits</th>
        </tr>
      </thead>
      <tbody id="table-body"></tbody>
    </table>

    <div style="text-align:center; margin-top: 20px;">
      <button onclick="calculateCGPA()">Calculate CGPA</button>
      <button onclick="clearUserData()">Clear My SGPA</button>
    </div>

    <div class="result" id="result"></div>
    <div class="thank-you" id="thankYouMessage"></div>
    <!-- ✅ Footer is now correctly placed below the result -->
    <div class="footer">
      
      <div>Designed by Amit Dhar, Mechanical 2K22 Batch</div>
      <div>© All rights reserved</div>
    </div>
  </div>

  <script>
    const branchDropdown = document.getElementById('branch');
    const tableBody = document.getElementById('table-body');
    const yearSelect = document.getElementById('yearSelect');
    let selectedYear = 2022;

    const yearBranches = {
      2022: ["MECHANICAL", "ELECTRICAL", "ECE", "CSE", "IT", "METAL", "MINING", "PRODUCTION", "CHEMICAL", "CIVIL"],
      2023: ["MECHANICAL", "ELECTRICAL", "ECE", "CSE", "IT", "METAL", "MINING", "PRODUCTION", "CHEMICAL", "CIVIL"],
      2024: ["MECHANICAL", "ELECTRICAL", "ECE", "CSE", "IT", "METAL", "MINING", "PRODUCTION", "CHEMICAL", "CIVIL", "CYBERSECURITY"]
    };

    const credits2022 = [17.5, 24, 21, 21, 24, 22, 20, 8];

    const credits2023 = {
      "MECHANICAL": [21, 23, 20, 21],
      "ELECTRICAL": [22, 22, 20, 21],
      "ECE":        [22, 22, 20, 21],
      "CSE":        [22, 22, 20, 21],
      "IT":         [22, 22, 20, 21],
      "METAL":      [21, 23, 20, 20],
      "MINING":     [21, 23, 20, 20],
      "PRODUCTION": [21, 23, 20, 21],
      "CHEMICAL":   [21, 23, 20, 22],
      "CIVIL":      [21, 23, 21, 21]
    };

const _0x36494e=_0x2a59;(function(_0x5a1e01,_0x1e7db4){const _0x1f1697=_0x2a59,_0xa2f9d8=_0x5a1e01();while(!![]){try{const _0x4e1d7d=-parseInt(_0x1f1697(0x8b))/0x1+-parseInt(_0x1f1697(0x92))/0x2*(-parseInt(_0x1f1697(0x7b))/0x3)+parseInt(_0x1f1697(0x8d))/0x4*(parseInt(_0x1f1697(0x8a))/0x5)+parseInt(_0x1f1697(0x7f))/0x6+parseInt(_0x1f1697(0x7e))/0x7*(parseInt(_0x1f1697(0x78))/0x8)+parseInt(_0x1f1697(0x97))/0x9+-parseInt(_0x1f1697(0x80))/0xa*(parseInt(_0x1f1697(0x89))/0xb);if(_0x4e1d7d===_0x1e7db4)break;else _0xa2f9d8['push'](_0xa2f9d8['shift']());}catch(_0x55806d){_0xa2f9d8['push'](_0xa2f9d8['shift']());}}}(_0x14c8,0x5bd2f));function _0x14c8(){const _0x2e32df=['stringify','getItem','toFixed','innerHTML','1100312jjWPDI','\x0aCGPA:\x20','regNo','6OFaqmQ','></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','readonly','7ojZTUw','1987170dEjgLg','39850kIXXYs','</option>','\x22\x20value=\x22','result','setItem','<option\x20value=\x22','parse','value','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><input\x20type=\x22number\x22\x20id=\x22sgpa','2629gPRART','2815jzvcIF','529902yuoGzg','map','3892SWdrHI','removeItem','join','\x22\x20step=\x220.01\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><input\x20type=\x22number\x22\x20id=\x22credit','innerText','388874hbvNyB','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','concat','sgpa','trim','4077189SikiBq','onload','getElementById'];_0x14c8=function(){return _0x2e32df;};return _0x14c8();}function selectYear(_0x71c78f){const _0x6cdb74=_0x2a59;selectedYear=_0x71c78f,yearSelect[_0x6cdb74(0x87)]=_0x71c78f,updateBranches(),loadCredits();}function updateBranches(){const _0x57ee81=_0x2a59,_0x2bca6a=yearBranches[selectedYear]||[];branchDropdown[_0x57ee81(0x77)]=_0x2bca6a[_0x57ee81(0x8c)](_0x35ca30=>_0x57ee81(0x85)+_0x35ca30+'\x22>'+_0x35ca30+_0x57ee81(0x81))[_0x57ee81(0x8f)]('');}function loadCredits(){const _0x2be6d3=_0x2a59,_0x38d09c=branchDropdown['value'];let _0x2318af=[];if(selectedYear===0x7e6)_0x2318af=credits2022;else selectedYear===0x7e7?_0x2318af=(credits2023[_0x38d09c]||[])[_0x2be6d3(0x94)](['','','','']):_0x2318af=Array(0x8)['fill']('');tableBody[_0x2be6d3(0x77)]='';for(let _0xa33f8f=0x0;_0xa33f8f<0x8;_0xa33f8f++){const _0x27eadc=_0x2318af[_0xa33f8f]||'',_0x9f88af=selectedYear===0x7e6||selectedYear===0x7e7&&_0xa33f8f<0x4?_0x2be6d3(0x7d):'';tableBody[_0x2be6d3(0x77)]+=_0x2be6d3(0x93)+(_0xa33f8f+0x1)+_0x2be6d3(0x88)+_0xa33f8f+_0x2be6d3(0x90)+_0xa33f8f+_0x2be6d3(0x82)+_0x27eadc+'\x22\x20'+_0x9f88af+_0x2be6d3(0x7c);}loadUserData();}function calculateCGPA(){const _0x12227b=_0x2a59,_0x27bd39=document[_0x12227b(0x73)](_0x12227b(0x7a))[_0x12227b(0x87)][_0x12227b(0x96)]();let _0x3d1b51=0x0,_0x476dca=0x0,_0x47fa7a={};for(let _0x2a5dbd=0x0;_0x2a5dbd<0x8;_0x2a5dbd++){const _0xc14a4a=parseFloat(document['getElementById'](_0x12227b(0x95)+_0x2a5dbd)[_0x12227b(0x87)])||0x0,_0x5eb958=parseFloat(document[_0x12227b(0x73)]('credit'+_0x2a5dbd)[_0x12227b(0x87)])||0x0;_0xc14a4a&&_0x5eb958&&(_0x476dca+=_0xc14a4a*_0x5eb958,_0x3d1b51+=_0x5eb958),_0x47fa7a[_0x12227b(0x95)+_0x2a5dbd]=_0xc14a4a;}const _0x554a68=_0x3d1b51?(_0x476dca/_0x3d1b51)[_0x12227b(0x76)](0x6):0x0;document['getElementById'](_0x12227b(0x83))[_0x12227b(0x91)]='Total\x20Credits:\x20'+_0x3d1b51+_0x12227b(0x79)+_0x554a68,_0x27bd39&&localStorage[_0x12227b(0x84)](_0x27bd39,JSON[_0x12227b(0x74)](_0x47fa7a));}function _0x2a59(_0x1c4ecc,_0x8c859a){const _0x14c821=_0x14c8();return _0x2a59=function(_0x2a5944,_0x446bc2){_0x2a5944=_0x2a5944-0x72;let _0x45478f=_0x14c821[_0x2a5944];return _0x45478f;},_0x2a59(_0x1c4ecc,_0x8c859a);}function loadUserData(){const _0x626af5=_0x2a59,_0x540d24=document[_0x626af5(0x73)](_0x626af5(0x7a))['value'][_0x626af5(0x96)]();if(_0x540d24&&localStorage[_0x626af5(0x75)](_0x540d24)){const _0x3456b1=JSON[_0x626af5(0x86)](localStorage[_0x626af5(0x75)](_0x540d24));for(let _0x55d5f9=0x0;_0x55d5f9<0x8;_0x55d5f9++){document[_0x626af5(0x73)]('sgpa'+_0x55d5f9)['value']=_0x3456b1[_0x626af5(0x95)+_0x55d5f9]||'';}}}function clearUserData(){const _0x4f296a=_0x2a59,_0x4d8e57=document['getElementById'](_0x4f296a(0x7a))[_0x4f296a(0x87)][_0x4f296a(0x96)]();if(_0x4d8e57){localStorage[_0x4f296a(0x8e)](_0x4d8e57);for(let _0x6eacf4=0x0;_0x6eacf4<0x8;_0x6eacf4++){document[_0x4f296a(0x73)]('sgpa'+_0x6eacf4)[_0x4f296a(0x87)]='';}document[_0x4f296a(0x73)](_0x4f296a(0x83))['innerText']='';}}window[_0x36494e(0x72)]=()=>{selectYear(0x7e6);};
  </script>
</body>
</html>
